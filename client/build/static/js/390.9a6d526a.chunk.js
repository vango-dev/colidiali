"use strict";(self.webpackChunkclient_new_design=self.webpackChunkclient_new_design||[]).push([[390],{13390:(e,r,n)=>{n.r(r),n.d(r,{default:()=>w});var a=n(89379),t=n(97629),l=n(19252),s=n(12110),i=n(79958),o=n(68903),c=n(88911),d=n(85865),u=n(39336),x=n(96446),h=n(35866),m=n(17392),g=n(34535),p=n(72812),y=n(65043),A=n(20974),v=n(19838),j=n(62098),f=n(15285),b=n(10001),C=n(46987),k=n(70579);const D=(0,g.Ay)(t.Ay)({color:"#F56B3D",height:8,"& .MuiSlider-track":{border:"none"},"& .MuiSlider-thumb":{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"inherit"},"&::before":{display:"none"}},"& .MuiSlider-valueLabel":{lineHeight:1.2,fontSize:12,background:"unset",padding:0,width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"#F56B3D",transformOrigin:"bottom left",transform:"translate(50%, -100%) rotate(-45deg) scale(0)","&::before":{display:"none"},"&.MuiSlider-valueLabelOpen":{transform:"translate(50%, -100%) rotate(-45deg) scale(1)"},"& > *":{transform:"rotate(45deg)"}}});function w(){const e=(0,j.A)("up","sm"),{enqueueSnackbar:r}=(0,C.dh)(),[n,t]=(0,y.useState)({name:"",value:0}),[g,w]=(0,y.useState)(null),[S,B]=(0,y.useState)(null),[M,_]=(0,y.useState)(null),[I,J]=(0,y.useState)(!1),{categories:F}=(0,f.d4)(e=>e.category);(0,y.useEffect)(()=>{(0,f.JD)((0,b.Jx)())},[]);return(0,k.jsx)(v.A,{title:"Dashboard: Prices",children:(0,k.jsx)(l.A,{maxWidth:"xl",children:(0,k.jsxs)(s.A,{children:[(0,k.jsx)(i.A,{sx:{position:"absolute",top:e?10:160,zIndex:1e4},titleTypographyProps:{fontSize:e?120:18},title:"Dashboard"}),(0,k.jsx)(o.Ay,{container:!0,alignItems:"center",justifyContent:"center",py:e?5:2,pr:{md:5,xs:0},children:(0,k.jsxs)(o.Ay,{item:!0,xs:12,md:10,children:[(0,k.jsxs)(c.A,{mb:{md:5,xs:2},mx:{md:0,xs:3},children:[(0,k.jsxs)(d.A,{variant:"h5",mb:{md:2,xs:1},sx:{fontWeight:450},children:["Adjust Delivery Prices"," "]}),(0,k.jsx)(d.A,{variant:"p",children:"As a transporter, you can define prices based on the type of deliveries you handle. Use the sliders below to set your prices for different categories. You can add new categories as needed."}),(0,k.jsx)(u.A,{})]}),(0,k.jsx)(x.A,{sx:{display:"grid",columnGap:2,rowGap:3,px:{md:0,xs:2},gridTemplateColumns:{xs:"repeat(1,1fr)",sm:"repeat(1,1fr)"}},children:null===F||void 0===F?void 0:F.map((e,n)=>(0,k.jsxs)(o.Ay,{container:!0,justifyContent:"center",alignItems:"center",spacing:3,children:[(0,k.jsx)(o.Ay,{item:!0,md:2,children:g===n?(0,k.jsx)(h.A,{value:M||e.name,onChange:e=>((e,r)=>{w(e),_(r)})(n,e.target.value)}):(0,k.jsx)(d.A,{variant:"subtitle1",gutterBottom:!0,onClick:()=>w(n),children:e.name})}),(0,k.jsx)(o.Ay,{item:!0,md:5,children:(0,k.jsx)(D,{valueLabelDisplay:"auto","aria-label":"price slider",value:g===n&&null!==S?S:e.value,onChange:(e,r)=>((e,r)=>{w(e),B(r)})(n,r)})}),(0,k.jsx)(o.Ay,{item:!0,md:2,children:(0,k.jsxs)(d.A,{gutterBottom:!0,variant:"subtitle1",sx:{textAlign:"center",border:"solid 1px black",borderRadius:1,borderColor:"#DDDCE0"},p:1,children:[g===n&&null!==S?S:e.value," ","euro/kg"]})}),(0,k.jsxs)(o.Ay,{item:!0,md:1,sx:{display:"flex"},children:[(0,k.jsx)(m.A,{onClick:()=>(async e=>{const n=F[e]._id;try{(0,f.JD)((0,b.Uj)(n)),r("Cat\xe9gorie supprim\xe9 avec succ\xe8s",{variant:"warning"})}catch(a){console.log("\ud83d\ude80 ~ handleDeleteCategory ~ error:",a),r(a,{variant:"error"})}})(n),children:(0,k.jsx)(A.A,{icon:"octicon:trash-24"})}),g===n?(0,k.jsx)(m.A,{onClick:()=>{(async e=>{var n;const a={name:null!==M?M:F[e].name,value:null!==S?S:F[e].value},t=null===(n=F[e])||void 0===n?void 0:n._id;try{(0,f.JD)((0,b._B)(t,a)),w(null),B(null),_(null),r("Modification effectu\xe9e avec succ\xe8s",{variant:"success"})}catch(l){console.log("\ud83d\ude80 ~ handleUpdateCategory ~ error:",l),r(l,{variant:"error"}),w(null),B(null),_(null)}})(n)},children:(0,k.jsx)(A.A,{icon:"icon-park-outline:check-one",color:"green"})}):null]})]},n))}),(0,k.jsx)(c.A,{direction:"row",spacing:2,justifyContent:"flex-start",alignItems:"center",my:3,children:(0,k.jsxs)(m.A,{onClick:()=>J(!I),children:[(0,k.jsx)(A.A,{icon:I?"ph:minus-fill":"material-symbols:add-box",color:"#F56B3D",mr:1}),(0,k.jsx)(d.A,{variant:"subtitle2",sx:{color:"black"},children:"Add category"})]})}),I&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(x.A,{sx:{display:"grid",columnGap:2,rowGap:3,px:{md:3,xs:2},gridTemplateColumns:{xs:"repeat(1,1fr)",sm:"repeat(1,1fr)"}},children:(0,k.jsxs)(o.Ay,{container:!0,alignItems:"center",justifyContent:"center",spacing:3,children:[(0,k.jsx)(o.Ay,{md:2,mr:5,children:(0,k.jsx)(h.A,{value:n.name,onChange:e=>t((0,a.A)((0,a.A)({},n),{},{name:e.target.value})),placeholder:"New Category Name"})}),(0,k.jsx)(o.Ay,{md:7,mr:5,children:(0,k.jsx)(D,{valueLabelDisplay:"auto","aria-label":"pretto slider",value:n.value,onChange:(e,r)=>t((0,a.A)((0,a.A)({},n),{},{value:r}))})}),(0,k.jsx)(o.Ay,{md:2,children:(0,k.jsxs)(d.A,{gutterBottom:!0,variant:"subtitle1",sx:{textAlign:"center",border:"solid 1px black",borderRadius:1,borderColor:"#DDDCE0"},p:1,children:[n.value," euro/kg"]})}),(0,k.jsx)(o.Ay,{md:1})]})}),(0,k.jsx)(c.A,{direction:"row",mt:2,justifyContent:"flex-end",children:(0,k.jsx)(p.A,{variant:"contained",color:"warning",onClick:async()=>{if(n.name&&0!==n.value)try{await(0,f.JD)((0,b.kQ)(n)),t({name:"",value:0}),J(!1),r("Cat\xe9gorie cr\xe9\xe9 avec succ\xe8s",{variant:"success"})}catch(e){console.log("\ud83d\ude80 ~ handleAddCategory ~ error:",e),r(e,{variant:"error"})}else alert("Please enter a valid category name and value.")},sx:{justifyContent:"start"},children:"Save Changes"})})]})]})})]})})})}}}]);
//# sourceMappingURL=390.9a6d526a.chunk.js.map