"use strict";(self.webpackChunkclient_new_design=self.webpackChunkclient_new_design||[]).push([[70],{551:(e,t,r)=>{r.d(t,{t:()=>j});var n=r(89379),o=r(80899),s=r(46987),i=r(73216),a=r(65043),c=r(24858),d=r(18403),l=r(88911),h=r(74050),u=r(72812),m=r(30342),x=r(48407),p=(r(84473),r(70579));function j(e){let{phone:t,justifyButton:r="center",buttonStyle:j}=e;const f=(0,i.Zp)(),{pathname:g}=(0,i.zy)(),A=g.includes("parameter"),{enqueueSnackbar:y}=(0,s.dh)(),{registerUser:b,userInfo:w,updateUser:v}=(0,m.A)(),C=o.Ik().shape({code1:o.Yj().required("Code is required"),code2:o.Yj().required("Code is required"),code3:o.Yj().required("Code is required"),code4:o.Yj().required("Code is required"),code5:o.Yj().required("Code is required"),code6:o.Yj().required("Code is required")}),{watch:S,control:k,setValue:q,handleSubmit:N,formState:{isSubmitting:P,isValid:z}}=(0,c.mN)({mode:"onBlur",resolver:(0,d.t)(C),defaultValues:{code1:"",code2:"",code3:"",code4:"",code5:"",code6:""}}),E=S();(0,a.useEffect)(()=>{document.addEventListener("paste",I)},[]);const I=e=>{var t;let r=(null===e||void 0===e||null===(t=e.clipboardData)||void 0===t?void 0:t.getData("Text"))||"";r=r.split(""),[].forEach.call(document.querySelectorAll("#field-code"),(e,t)=>{e.value=r[t];const n="code".concat(t+1);q(n,r[t])})};return(0,p.jsxs)("form",{onSubmit:N(async e=>{try{if(A){const e={phone:t};await v(e)}else await b(w),f(x.pi.verify)}catch(r){console.log("\ud83d\ude80 ~ file: VerifyCodeForm.js:118 ~ onSubmit ~ error:",r)}}),children:[(0,p.jsx)(l.A,{direction:"row",spacing:2,justifyContent:"center",children:Object.keys(E).map((e,t)=>(0,p.jsx)(c.xI,{name:"code".concat(t+1),control:k,render:e=>{let{field:r}=e;return(0,p.jsx)(h.A,(0,n.A)((0,n.A)({},r),{},{id:"field-code",autoFocus:0===t,placeholder:"-",onChange:e=>((e,t)=>{const{maxLength:r,value:n,name:o}=e.target,s=o.replace("code",""),i=Number(s);if(n.length>=r&&i<6){const e=document.querySelector("input[name=code".concat(i+1,"]"));null!==e&&e.focus()}t(e)})(e,r.onChange),inputProps:{maxLength:1,sx:{p:0,textAlign:"center",width:{xs:36,sm:56},height:{xs:36,sm:56},color:"black"}}}))}},e))}),(0,p.jsx)(l.A,{direction:"row",justifyContent:r,children:(0,p.jsx)(u.A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:P,sx:(0,n.A)((0,n.A)({},j),{},{mt:3,width:"50%"}),color:"warning",children:"V\xe9rifier"})})]})}},67070:(e,t,r)=>{r.r(t),r.d(t,{default:()=>T});var n=r(26292),o=r(65043),s=r(35475),i=r(34535),a=r(12110),c=r(19252),d=r(68903),l=r(26494),h=r(88911),u=r(96446),m=r(85865),x=r(88446),p=r(78977),j=r(99845),f=r(19838),g=r(64018),A=r(46987),y=r(80899),b=r(18403),w=r(24858),v=r(72812),C=r(67254),S=r(39336),k=r(12220),q=r(20974),N=r(42379),P=r(3487),z=r(30342),E=r(43409),I=r(551),Y=r(62098),V=r(70579);const R=(0,i.Ay)("div")(e=>{let{theme:t}=e;return{display:"flex",height:500,width:800,alignItems:"center",padding:t.spacing(1,0),marginTop:P.El.MAIN_DESKTOP_HEIGHT,backgroundColor:"#ffffff",borderRadius:12}});function _(e){let{user:t}=e;const{enqueueSnackbar:r}=(0,A.dh)(),n=(0,Y.A)("up","sm"),i=(0,E.A)(),[,a]=(0,o.useState)(""),{addUserInfo:l,verifyPhoneNumber:j}=(0,z.A)(),[f,g]=(0,o.useState)(!1),[P,_]=(0,o.useState)(!1),[W,F]=(0,o.useState)(!1),H=y.Ik().shape({fName:y.Yj().required("Ce champs est obligatoire"),lName:y.Yj().required("Ce champs est obligatoire"),phone:y.Yj().phone("Num\xe9ro de t\xe9l\xe9phone invalide").required("Ce champs est obligatoire"),email:y.Yj().email("Adresse e-mail incorrecte").required("Ce champs est obligatoire"),companyName:y.Yj().required("Ce champs est obligatoire"),country:y.Yj().required("Ce champs est obligatoire"),password:y.Yj().required("Ce champs est obligatoire").min(8,"Password must be at least 8 characters").matches(/[A-Z]/,"Password must contain at least one uppercase letter").matches(/[a-z]/,"Password must contain at least one lowercase letter").matches(/\d/,"Password must contain at least one number").matches(/[!@#$%^&*(),.?":{}|<>]/,"Password must contain at least one special character"),confirmPassword:y.Yj().oneOf([y.KR("password"),null],"Passwords must match")}),U=(0,w.mN)({resolver:(0,b.t)(H),defaultValues:{fName:"",lName:"",phone:"",email:"",companyName:"",country:"",password:"",confirmPassword:""}}),[O,T]=(0,o.useState)(null),{handleSubmit:D,formState:{errors:G,isSubmitting:B},setError:L}=U;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(N.Op,{methods:U,onSubmit:D(async e=>{try{const{phone:t}=e,n=await j(e.phone);console.log("\ud83d\ude80 ~ onSubmit ~ response:",n),await l(e),F(!0),T(t),r("OTP sent successfully!",{variant:"success"})}catch(t){console.log("\ud83d\ude80 ~ file: RegisterForm.js:151 ~ onSignUp ~ error:",t),i.current&&L("afterSubmit",t)}}),children:[!!G.afterSubmit&&(0,V.jsx)(C.A,{severity:"error",children:G.afterSubmit.message}),(0,V.jsxs)(h.A,{spacing:3,mt:2,children:[(0,V.jsxs)(d.Ay,{container:!0,justifyContent:"space-between",children:[(0,V.jsx)(d.Ay,{item:!0,md:5.8,xs:12,mb:3,children:(0,V.jsx)(N.o3,{name:"lName",placeholder:"Votre nom *"})}),(0,V.jsx)(d.Ay,{item:!0,md:5.8,xs:12,children:(0,V.jsx)(N.o3,{name:"fName",placeholder:"Votre pr\xe9nom *"})})]}),(0,V.jsx)(h.A,{spacing:2,children:(0,V.jsx)(N.pU,{name:"phone",placeholder:"Votre num\xe9ro de t\xe9l\xe9phone *"})}),(0,V.jsx)(h.A,{children:(0,V.jsx)(N.o3,{name:"email",placeholder:"Votre adresse mail *"})}),(0,V.jsxs)(d.Ay,{container:!0,justifyContent:"space-between",children:["transporter"===t&&(0,V.jsx)(d.Ay,{item:!0,md:5.8,xs:12,children:(0,V.jsx)(N.o3,{name:"companyName",placeholder:"Nom de l'entreprise"})}),(0,V.jsx)(d.Ay,{item:!0,md:"transporter"===t?5.8:12,xs:12,children:(0,V.jsx)(h.A,{spacing:2,children:(0,V.jsx)(N.rG,{name:"country",placeholder:"Pays",setCountryIso:a})})})]}),(0,V.jsx)(h.A,{children:(0,V.jsx)(N.o3,{name:"password",isPassword:!0,type:f?"text":"password",placeholder:"Votre mote de passe",showPassword:f,showPasswordHandler:()=>g(!f)})}),(0,V.jsxs)(h.A,{spacing:0,children:[(0,V.jsx)(N.o3,{name:"confirmPassword",isPassword:!0,type:P?"text":"password",placeholder:"Confirmer votre mot de passe",showPassword:P,showPasswordHandler:()=>_(!P)}),(0,V.jsx)(m.A,{variant:n?"body2":"caption",color:"text.secondary",sx:{fontWeight:300},children:"Use 8 or more characters with a mix of letters, numbers and symbols"})]}),(0,V.jsxs)(m.A,{variant:n?"body1":"caption",color:"text.secondary",children:["En cr\xe9ant un compte, vous acceptez"," ",(0,V.jsxs)(x.A,{component:s.N_,to:"/",children:["les conditions d'utilisation"," "]}),"et"," ",(0,V.jsxs)(x.A,{component:s.N_,to:"/",children:["la politique de confidentialit\xe9"," "]}),"."]}),(0,V.jsx)(v.A,{type:"submit",loading:B,size:"large",variant:"contained",color:"warning",sx:{p:1.5,borderRadius:.6,fontSize:16,fontWeight:700},children:"S'INSCRIRE"}),(0,V.jsx)(S.A,{children:(0,V.jsx)(m.A,{variant:"body1",sx:{fontWeight:550},children:"Ou se s'inscrire avec"})}),(0,V.jsx)(p.A,{size:"large",variant:"outlined",sx:{p:1.5,borderRadius:.6,fontSize:16,fontWeight:700},children:"Google"}),(0,V.jsx)(p.A,{size:"large",variant:"outlined",sx:{p:1.5,borderRadius:.6,fontSize:16,fontWeight:700},children:"Facebook"})]})]}),(0,V.jsx)(k.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:W,children:(0,V.jsx)(R,{children:(0,V.jsx)(c.A,{children:(0,V.jsxs)(u.A,{sx:{maxWidth:600,mx:"auto"},children:[(0,V.jsx)(p.A,{size:"small",onClick:()=>{F(!1)},startIcon:(0,V.jsx)(q.A,{icon:"eva:arrow-ios-back-fill",width:20,height:20}),sx:{mb:3},children:"Pr\xe9c\xe9dant"}),(0,V.jsx)(h.A,{direction:"row",justifyContent:"center",children:(0,V.jsx)(q.A,{height:50,width:50,icon:"solar:lock-outline",color:"#000000"})}),(0,V.jsxs)(m.A,{variant:"h3",paragraph:!0,sx:{color:"text.primary",textAlign:"center"},children:["Nous avons envoy\xe9 un code"," "]}),(0,V.jsx)(m.A,{variant:"body2",sx:{color:"text.secondary",textAlign:"center"},children:"Enter the code that we have sent to ".concat(O)}),(0,V.jsx)(u.A,{sx:{mt:5,mb:1},children:(0,V.jsx)(I.t,{phone:O})}),(0,V.jsx)(h.A,{direction:"row",justifyContent:"center",children:(0,V.jsx)(x.A,{sx:{alignContent:"center"},variant:"body2",underline:"none",onClick:()=>{},children:"Renvoyer le code"})})]})})})})]})}y.Zg(y.Yj,"phone",function(e){return this.test("phone",e,function(t){const{path:r,createError:n}=this,o=(0,g.l)(t);return o&&o.isValid()||n({path:r,message:e||"Num\xe9ro de t\xe9l\xe9phone invalide"})})});var W=r(95102),F=r(48407);const H=(0,i.Ay)(n.m.div)(e=>{let{theme:t}=e;return{position:"relative",top:0,left:0,backgroundColor:"transparent",width:"100%",height:"180vh",background:"linear-gradient(180deg, #033B3A 0%, #033938 0%, #02302F 19.03%, #000000 100%);",[t.breakpoints.up("md")]:{width:"100%",height:"158vh",display:"flex",alignItems:"center"}}}),U=(0,i.Ay)(n.m.img)({width:"100%",height:"100%",objectFit:"cover",position:"absolute"}),O=(0,i.Ay)(a.A)(e=>{let{theme:t}=e;return{width:"92%",maxHeight:"100%",backgroundColor:"#ffffff",position:"absolute",top:80,[t.breakpoints.up("md")]:{width:"70%",maxHeight:"88%",top:140}}});function T(){const[e,t]=(0,o.useState)("client"),r=(0,Y.A)("up","sm");(0,o.useEffect)(()=>{console.log("User selection changed to:",e)},[e]);const n=e=>{t(e)};return(0,V.jsx)(f.A,{title:"Cr\xe9er un nouveau compte",children:(0,V.jsx)(j.qH,{children:(0,V.jsxs)(H,{children:[(0,V.jsx)(U,{alt:"overlay",src:"../mozaic_bg.png",variants:(0,j.Sk)().in}),(0,V.jsx)(c.A,{maxWidth:"xl",children:(0,V.jsx)(O,{children:(0,V.jsxs)(d.Ay,{container:!0,direction:"row",justifyContent:{md:"space-around",xs:"flex-start"},children:[r&&(0,V.jsx)(d.Ay,{item:!0,md:7,pl:4,py:5,children:(0,V.jsx)(W.A,{})}),(0,V.jsx)(d.Ay,{item:!0,md:5,xs:12,mt:{md:3,xs:0},children:(0,V.jsxs)(l.A,{children:[(0,V.jsx)(h.A,{direction:"row",children:(0,V.jsxs)(u.A,{sx:{flexGrow:1},children:[(0,V.jsx)(m.A,{variant:"h3",sx:{fontWeight:500,textAlign:"start"},children:"Cr\xe9er un nouveau compte"}),(0,V.jsxs)(m.A,{variant:"body2",color:"text.secondary",sx:{textAlign:"start"},children:["Vous avez d\xe9j\xe0 un compte ?"," ",(0,V.jsx)(x.A,{component:s.N_,to:F.pi.login,children:"Se connecter ici"})]})]})}),(0,V.jsxs)(h.A,{direction:"row",sx:{width:"100%",backgroundColor:"#EDEEEF",borderRadius:1.2,my:{md:5,xs:3},justifyContent:"center",p:.5},spacing:1,children:[(0,V.jsx)(p.A,{sx:{px:{md:12,xs:8},py:2,backgroundColor:"client"===e?"white":"none"},onClick:()=>n("client"),children:"Client"}),(0,V.jsx)(p.A,{size:"large",sx:{px:{md:12,xs:8},backgroundColor:"transporter"===e?"white":"none"},onClick:()=>n("transporter"),children:"Transporteur"})]}),(0,V.jsx)(_,{user:e})]})})]})})})]})})})}}}]);
//# sourceMappingURL=70.f51987d8.chunk.js.map